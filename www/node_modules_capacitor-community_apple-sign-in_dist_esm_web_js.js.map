{"version":3,"file":"node_modules_capacitor-community_apple-sign-in_dist_esm_web_js.js","mappings":"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","sources":["./node_modules/@capacitor-community/apple-sign-in/dist/esm/web.js","./node_modules/scriptjs/dist/script.js"],"sourcesContent":["import { WebPlugin } from '@capacitor/core';\nimport * as $script from 'scriptjs';\nexport class SignInWithAppleWeb extends WebPlugin {\n    constructor() {\n        super({\n            name: 'SignInWithApple',\n            platforms: ['web'],\n        });\n        this.appleScriptUrl = 'https://appleid.cdn-apple.com/appleauth/static/jsapi/appleid/1/en_US/appleid.auth.js';\n        this.isAppleScriptLoaded = false;\n    }\n    async authorize(options) {\n        return new Promise((resolve, reject) => {\n            if (options) {\n                this.loadSignInWithAppleJS().then(loaded => {\n                    var _a, _b, _c;\n                    this.isAppleScriptLoaded = loaded;\n                    if (this.isAppleScriptLoaded) {\n                        AppleID.auth.init({\n                            clientId: options.clientId,\n                            redirectURI: options.redirectURI,\n                            scope: (_a = options.scopes) !== null && _a !== void 0 ? _a : undefined,\n                            state: (_b = options.state) !== null && _b !== void 0 ? _b : undefined,\n                            nonce: (_c = options.nonce) !== null && _c !== void 0 ? _c : undefined,\n                            usePopup: true,\n                        });\n                        AppleID.auth\n                            .signIn()\n                            .then((res) => {\n                            var _a, _b, _c, _d, _e;\n                            const response = {\n                                response: {\n                                    user: null,\n                                    email: (_a = res.user) === null || _a === void 0 ? void 0 : _a.email,\n                                    givenName: (_c = (_b = res.user) === null || _b === void 0 ? void 0 : _b.name) === null || _c === void 0 ? void 0 : _c.firstName,\n                                    familyName: (_e = (_d = res.user) === null || _d === void 0 ? void 0 : _d.name) === null || _e === void 0 ? void 0 : _e.lastName,\n                                    identityToken: res.authorization.id_token,\n                                    authorizationCode: res.authorization.code,\n                                },\n                            };\n                            resolve(response);\n                        })\n                            .catch((err) => {\n                            reject(err);\n                        });\n                    }\n                    else {\n                        reject('Unable to load Sign in with Apple JS framework.');\n                    }\n                });\n            }\n            else {\n                reject('No options were provided.');\n            }\n        });\n    }\n    loadSignInWithAppleJS() {\n        return new Promise(resolve => {\n            if (!this.isAppleScriptLoaded) {\n                if (typeof window !== undefined) {\n                    $script.get(this.appleScriptUrl, () => resolve(true));\n                }\n                else {\n                    resolve(false);\n                }\n            }\n            else {\n                resolve(true);\n            }\n        });\n    }\n}\n","/*!\n  * $script.js JS loader & dependency manager\n  * https://github.com/ded/script.js\n  * (c) Dustin Diaz 2014 | License MIT\n  */\n\n(function (name, definition) {\n  if (typeof module != 'undefined' && module.exports) module.exports = definition()\n  else if (typeof define == 'function' && define.amd) define(definition)\n  else this[name] = definition()\n})('$script', function () {\n  var doc = document\n    , head = doc.getElementsByTagName('head')[0]\n    , s = 'string'\n    , f = false\n    , push = 'push'\n    , readyState = 'readyState'\n    , onreadystatechange = 'onreadystatechange'\n    , list = {}\n    , ids = {}\n    , delay = {}\n    , scripts = {}\n    , scriptpath\n    , urlArgs\n\n  function every(ar, fn) {\n    for (var i = 0, j = ar.length; i < j; ++i) if (!fn(ar[i])) return f\n    return 1\n  }\n  function each(ar, fn) {\n    every(ar, function (el) {\n      fn(el)\n      return 1\n    })\n  }\n\n  function $script(paths, idOrDone, optDone) {\n    paths = paths[push] ? paths : [paths]\n    var idOrDoneIsDone = idOrDone && idOrDone.call\n      , done = idOrDoneIsDone ? idOrDone : optDone\n      , id = idOrDoneIsDone ? paths.join('') : idOrDone\n      , queue = paths.length\n    function loopFn(item) {\n      return item.call ? item() : list[item]\n    }\n    function callback() {\n      if (!--queue) {\n        list[id] = 1\n        done && done()\n        for (var dset in delay) {\n          every(dset.split('|'), loopFn) && !each(delay[dset], loopFn) && (delay[dset] = [])\n        }\n      }\n    }\n    setTimeout(function () {\n      each(paths, function loading(path, force) {\n        if (path === null) return callback()\n        \n        if (!force && !/^https?:\\/\\//.test(path) && scriptpath) {\n          path = (path.indexOf('.js') === -1) ? scriptpath + path + '.js' : scriptpath + path;\n        }\n        \n        if (scripts[path]) {\n          if (id) ids[id] = 1\n          return (scripts[path] == 2) ? callback() : setTimeout(function () { loading(path, true) }, 0)\n        }\n\n        scripts[path] = 1\n        if (id) ids[id] = 1\n        create(path, callback)\n      })\n    }, 0)\n    return $script\n  }\n\n  function create(path, fn) {\n    var el = doc.createElement('script'), loaded\n    el.onload = el.onerror = el[onreadystatechange] = function () {\n      if ((el[readyState] && !(/^c|loade/.test(el[readyState]))) || loaded) return;\n      el.onload = el[onreadystatechange] = null\n      loaded = 1\n      scripts[path] = 2\n      fn()\n    }\n    el.async = 1\n    el.src = urlArgs ? path + (path.indexOf('?') === -1 ? '?' : '&') + urlArgs : path;\n    head.insertBefore(el, head.lastChild)\n  }\n\n  $script.get = create\n\n  $script.order = function (scripts, id, done) {\n    (function callback(s) {\n      s = scripts.shift()\n      !scripts.length ? $script(s, id, done) : $script(s, callback)\n    }())\n  }\n\n  $script.path = function (p) {\n    scriptpath = p\n  }\n  $script.urlArgs = function (str) {\n    urlArgs = str;\n  }\n  $script.ready = function (deps, ready, req) {\n    deps = deps[push] ? deps : [deps]\n    var missing = [];\n    !each(deps, function (dep) {\n      list[dep] || missing[push](dep);\n    }) && every(deps, function (dep) {return list[dep]}) ?\n      ready() : !function (key) {\n      delay[key] = delay[key] || []\n      delay[key][push](ready)\n      req && req(missing)\n    }(deps.join('|'))\n    return $script\n  }\n\n  $script.done = function (idOrDone) {\n    $script([null], idOrDone)\n  }\n\n  return $script\n});\n"],"names":["WebPlugin","$script","SignInWithAppleWeb","constructor","name","platforms","appleScriptUrl","isAppleScriptLoaded","authorize","options","_this","_asyncToGenerator","Promise","resolve","reject","loadSignInWithAppleJS","then","loaded","_a","_b","_c","AppleID","auth","init","clientId","redirectURI","scope","scopes","undefined","state","nonce","usePopup","signIn","res","_d","_e","response","user","email","givenName","firstName","familyName","lastName","identityToken","authorization","id_token","authorizationCode","code","catch","err","window","get","definition","module","exports","define","amd","doc","document","head","getElementsByTagName","s","f","push","readyState","onreadystatechange","list","ids","delay","scripts","scriptpath","urlArgs","every","ar","fn","i","j","length","each","el","paths","idOrDone","optDone","idOrDoneIsDone","call","done","id","join","queue","loopFn","item","callback","dset","split","setTimeout","loading","path","force","test","indexOf","create","createElement","onload","onerror","async","src","insertBefore","lastChild","order","shift","p","str","ready","deps","req","missing","dep","key"],"sourceRoot":"webpack:///","x_google_ignoreList":[0,1]}