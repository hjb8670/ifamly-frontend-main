{"version":3,"file":"src_app_pages_tabs_tabs_module_ts.js","mappings":"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","sources":["./src/app/pages/tabs/tabs-routing.module.ts","./src/app/pages/tabs/tabs.module.ts","./src/app/pages/tabs/tabs.page.ts","./src/app/services/tab.service.ts","./src/app/pages/tabs/tabs.page.scss"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { TabsPage } from './tabs.page';\n\nconst routes: Routes = [\n  {\n    path: 'tabs',\n    component: TabsPage,\n    children: [\n      {\n        path: 'experience',\n        loadChildren: () => import('../tabExperience/tabExperience.module').then(m => m.TabExperiencePageModule)\n      },\n      {\n        path: 'my-experience',\n        loadChildren: () => import('../tabExperience/tabExperience.module').then(m => m.TabExperiencePageModule)\n      },\n      {\n        path: 'discover',\n        loadChildren: () => import('../tabDiscover/tabDiscover.module').then(m => m.TabDiscoverPageModule)\n      },\n      {\n        path: 'match',\n        loadChildren: () => import('../tabMatch/tabMatch.module').then(m => m.TabMatchPageModule)\n      },\n      {\n        path: 'message',\n        loadChildren: () => import('../tabMessage/tabMessage.module').then(m => m.TabMessagePageModule)\n      },\n      {\n        path: 'account',\n        loadChildren: () => import('../tabAccount/tabAccount.module').then(m => m.TabAccountPageModule)\n      },\n      {\n        path: '',\n        redirectTo: '/main/tabs/experience',\n        pathMatch: 'full'\n      }\n    ]\n  },\n  {\n    path: '',\n    redirectTo: '/main/tabs/experience',\n    pathMatch: 'full'\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n})\nexport class TabsPageRoutingModule {}\n","import { IonicModule } from '@ionic/angular';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { TabsPageRoutingModule } from './tabs-routing.module';\n\nimport { TabsPage } from './tabs.page';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    TabsPageRoutingModule\n  ],\n  declarations: [TabsPage]\n})\nexport class TabsPageModule {}\n","import { ChangeDetectorRef, Component } from '@angular/core';\nimport { UserService } from 'src/app/services/user.service';\nimport Talk from 'talkjs';\nimport { TalkService } from '../../services/talk.service';\nimport { User } from 'src/app/interfaces/interfaces';\nimport { MatchService } from 'src/app/services/match.service';\nimport { TabService } from 'src/app/services/tab.service';\n\n@Component({\n  selector: 'app-tabs',\n  templateUrl: 'tabs.page.html',\n  styleUrls: ['tabs.page.scss']\n})\nexport class TabsPage {\n  activeExperience = false;\n  activeDiscover = false;\n  activeMatch = false;\n  activeMessage = false;\n  activeAccount = false;\n\n  //Talkjs\n  unreadMessages = 0; // Contador de mensajes no leÃ­dos\n  private session: any;\n  user: User;\n\n  constructor(private userService: UserService, \n    private talkService: TalkService,\n    public matchService:MatchService,\n    private cdr: ChangeDetectorRef, // Inyectamos ChangeDetectorRef\n    private tabService: TabService\n  ) {\n    this.activeDiscover = true;\n\n    // Subscribe to tab changes\n    this.tabService.currentTab$.subscribe(tab => {\n      this.changeIcon(tab);\n    });\n  }\n\n  async ngOnInit(){\n    this.user = await this.userService.getUserBasic('');\n    this.session = await this.talkService.createCurrentSession(this.user.personId, this.user.firstName.concat(\" \", this.user.lastName));\n    this.escucharTalkJS();\n  }\n\n  async changeIcon(page) {\n    if (page == 'discover') {\n      this.activeExperience = false;\n      this.activeDiscover = true;\n      this.activeMatch = false;\n      this.activeMessage = false;\n      this.activeAccount = false;\n    } else if (page == 'match') {\n      this.activeExperience = false;\n      this.activeDiscover = false;\n      this.activeMatch = true;\n      this.activeMessage = false;\n      this.activeAccount = false;\n    } else if (page == 'experience') {\n      this.activeExperience = true;\n      this.activeDiscover = false\n      this.activeMatch = false;\n      this.activeMessage = false;\n      this.activeAccount = false;\n    } else if (page == 'message') {\n      this.activeExperience = false;\n      this.activeDiscover = false;\n      this.activeMatch = false;\n      this.activeMessage = true;\n      this.activeAccount = false;\n    } else {\n      this.activeExperience = false;\n      this.activeDiscover = false;\n      this.activeMatch = false;\n      this.activeMessage = false;\n      this.activeAccount = true;\n    }\n    \n    // Update the tab service\n    this.tabService.setActiveTab(page);\n  }\n\n  async escucharTalkJS(){\n    this.session.unreads.onChange((conversations: any) => {\n      this.unreadMessages = 0;\n      conversations.forEach(conver => {\n        if(this.unreadMessages >= 9){return;}\n        this.unreadMessages += conver.unreadMessageCount;\n      });\n      this.cdr.detectChanges();\n    })\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TabService {\n  private currentTabSubject = new BehaviorSubject<string>('discover');\n  currentTab$ = this.currentTabSubject.asObservable();\n\n  constructor() { }\n\n  setActiveTab(tab: string) {\n    this.currentTabSubject.next(tab);\n  }\n\n  getCurrentTab(): string {\n    return this.currentTabSubject.value;\n  }\n} ","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `ion-img {\n  width: 25px;\n}\n\n.border-tab {\n  border-top-color: var(--ion-color-primary1);\n  border-top-width: 2px;\n  border-top-style: solid;\n}\n\n.numeroUnread {\n  background: red;\n  border-radius: 50%;\n  width: 20px;\n  height: 20px;\n  position: absolute;\n  right: 15%;\n  top: 15%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  font-size: 12px;\n  font-weight: bold;\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/pages/tabs/tabs.page.scss\",\"webpack://./../../My%20Projects/frontend-ifamily/src/app/pages/tabs/tabs.page.scss\"],\"names\":[],\"mappings\":\"AAAA;EACI,WAAA;ACCJ;;ADEA;EACI,2CAAA;EACA,qBAAA;EACA,uBAAA;ACCJ;;ADEA;EACI,eAAA;EACA,kBAAA;EACA,WAAA;EACA,YAAA;EACA,kBAAA;EACA,UAAA;EACA,QAAA;EAEA,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,YAAA;EACA,eAAA;EACA,iBAAA;ACAJ\",\"sourcesContent\":[\"ion-img {\\n    width: 25px;\\n}\\n\\n.border-tab {\\n    border-top-color: var(--ion-color-primary1);\\n    border-top-width: 2px;\\n    border-top-style: solid;\\n}\\n\\n.numeroUnread {\\n    background: red;\\n    border-radius: 50%;\\n    width: 20px;\\n    height: 20px;\\n    position: absolute;\\n    right: 15%;\\n    top: 15%;\\n\\n    display: flex; \\n    align-items: center; \\n    justify-content: center; \\n    color: white; \\n    font-size: 12px; \\n    font-weight: bold;\\n}\\n\",\"ion-img {\\n  width: 25px;\\n}\\n\\n.border-tab {\\n  border-top-color: var(--ion-color-primary1);\\n  border-top-width: 2px;\\n  border-top-style: solid;\\n}\\n\\n.numeroUnread {\\n  background: red;\\n  border-radius: 50%;\\n  width: 20px;\\n  height: 20px;\\n  position: absolute;\\n  right: 15%;\\n  top: 15%;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  color: white;\\n  font-size: 12px;\\n  font-weight: bold;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n"],"names":["NgModule","RouterModule","TabsPage","routes","path","component","children","loadChildren","then","m","TabExperiencePageModule","TabDiscoverPageModule","TabMatchPageModule","TabMessagePageModule","TabAccountPageModule","redirectTo","pathMatch","TabsPageRoutingModule","__decorate","imports","forChild","IonicModule","CommonModule","FormsModule","TabsPageModule","declarations","ChangeDetectorRef","Component","UserService","TalkService","MatchService","TabService","constructor","userService","talkService","matchService","cdr","tabService","activeExperience","activeDiscover","activeMatch","activeMessage","activeAccount","unreadMessages","currentTab$","subscribe","tab","changeIcon","ngOnInit","_this","_asyncToGenerator","user","getUserBasic","session","createCurrentSession","personId","firstName","concat","lastName","escucharTalkJS","page","_this2","setActiveTab","_this3","unreads","onChange","conversations","forEach","conver","unreadMessageCount","detectChanges","selector","template","__NG_CLI_RESOURCE__0","Injectable","BehaviorSubject","currentTabSubject","asObservable","next","getCurrentTab","value","providedIn"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}